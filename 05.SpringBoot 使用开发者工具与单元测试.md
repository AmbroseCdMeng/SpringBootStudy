# SpringBoot 学习笔记

> 声明：
> 
> 本次学习参考 《SpringBoot + Vue 开发实战》 · 王松（著） 一书。
> 
> 本文的目的是记录我学习的过程和遇到的一些问题以及解决办法，其内容主要来源于原书。
> 
> 如有侵权，请联系我删除

## SpringBoot 使用开发者工具与单元测试

### 开发者工具 - devtools

> `spring-boot-devtools` 是 SpringBoot 提供的一组开发工具，可以提高开发者的工作效率。

#### 基本用法

创建 SpringBoot 项目，添加依赖

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <optional>true</optional>
</dependency>
```

> `optional` 为了防止将 devtools 依赖传递到其他模块。当开发者将应用打包后，devtools 会被自动禁用。
> 
> 进入 `spring-boot-devtools` 后，只要 `classpath` 路径下的文件发生了变化，项目就会自动重启，极大的提高了项目的开发速度。
> 
> 在 Eclipse 中，修改完代码并保存后。项目自动编译并重启；
> 
> 在 IDEA 中，默认要 CTRL+F9 手动编译，编译成功后项目会自动重启，也可以配置项目自动编译
> 
> 步骤一： Setting - Build,Execution,Deployment - Compiler，勾选 Build project automatically 即可；
> 
> 步骤二： Ctrl+Shift+A+/ 调出 Maintenance 页面，点击 Registry，勾选 compiler.automake.allow.when.app.running。

配置完成后，在 IDEA 中修改代码并保存后，项目就会自动编译并重启。

但是，classpath 路径下的静态资源或者视图模板发生变化时，并不会导致项目重启。

	
#### 基本原理

> SpringBoot 中使用的自动重启技术涉及到两个类加载器，一个是 `baseclassloader`，用来加载不会变化的类（如项目引用的第三方 jar）；另一个是 `restartclassloader`，用来加载开发者自己写的会变化的类。当项目需要重启时，`restartclassloader` 将被一个新创建的类加载器代替，而 `baseclassloader` 则继续使用原来的。这种启动方式比冷启动快很多，因为 `baseclassloader` 已经存在并且已经加载好。

#### 自定义监控

默认情况下

### 单元测试 - test